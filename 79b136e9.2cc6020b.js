(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{143:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(1),a=n(9),o=(n(0),n(153)),l={id:"simple-form-no-formik",title:"Simple Form No Formik"},i={id:"simple-form-no-formik",title:"Simple Form No Formik",description:"In the file no formik an example of a basic form has been set up to illustrate how much work goes into building a form and managing states.",source:"@site/docs/simple-form-no-formik.md",permalink:"/formik-workshop/docs/simple-form-no-formik",editUrl:"https://github.com/stackworx/formik-workshop/edit/master/docs/docs/simple-form-no-formik.md",sidebar:"someSidebar",previous:{title:"Why Formik",permalink:"/formik-workshop/docs/why-formik"},next:{title:"Simple Form With Formik",permalink:"/formik-workshop/docs/simple-form-with-formik"}},c=[{value:"References",id:"references",children:[]}],s={rightToc:c};function u(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In the file no formik an example of a basic form has been set up to illustrate how much work goes into building a form and managing states."),Object(o.b)("p",null,"Lets build a simple input with validation as example"),Object(o.b)("p",null,"Go to the file SimpleFormNoFormik.tsx"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Add an input with a name like below in your return")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),'<input name="name" type="text" />\n')),Object(o.b)("p",null,"You can go two ways about managing this component:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Controlled(state)"),Object(o.b)("li",{parentName:"ul"},"Uncontrolled(Ref)\n--ReadMore\n",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://reactjs.org/docs/forms.html"}),"https://reactjs.org/docs/forms.html"))),Object(o.b)("p",null,"Lets add state and manage the value of the input"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),'const [value, setValue] = React.useState("");\nreturn <input name="name" value={state.name} />;\n')),Object(o.b)("p",null,"If you try and type now nothing will happen because nothing tells the state to update"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"You can now add the onChange to update the state")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),'const [value, setValue] = React.useState("");\nreturn (\n  <input\n    name="name"\n    value={state.name}\n    onChange={(e) => {\n      setState(e.target.value);\n    }}\n  />\n);\n')),Object(o.b)("p",null,"This doesn't seem like a lot of work but lets start thinking real form"),Object(o.b)("p",null,"We need to think of three primary things when we do any form"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"state (value)"),Object(o.b)("li",{parentName:"ul"},"errors"),Object(o.b)("li",{parentName:"ul"},"touched")),Object(o.b)("p",null,"In the example above we have the state covered lets add some error handling;\nSo primarily you don't want a component to start out in an error state,\nthats why we need to track touched, them we only show the error once the\ncomponent has been touched.\nSooo\nWhen do we start doing validation, and when do we fire the validation check?"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"onChange"),Object(o.b)("li",{parentName:"ul"},"onBlur"),Object(o.b)("li",{parentName:"ul"},"onFocus")),Object(o.b)("p",null,"So you can fire the validation on all of them, but that will also determine when the error will show"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),'const [value, setValue] = React.useState("");\nconst [error, setError] = React.useState("");\nconst validate = () => {\n  const error = value.length > 0 ? "" : "This is a required field";\n  setError(error);\n};\nreturn (\n  <input\n    name="name"\n    value={state.name}\n    onChange={(e) => {\n      setState(e.target.value);\n      validate();\n    }}\n  />\n  <p>{error}</p>\n);\n')),Object(o.b)("p",null,"In the above code the validation will start as soon as we start typing;"),Object(o.b)("p",null,"The problem here is you want to only start showing validation errors when you:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"submit a form"),Object(o.b)("li",{parentName:"ul"},"set focus back to the form")),Object(o.b)("p",null,"For that we add the touched state"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),'const [value, setValue] = React.useState("");\nconst [error, setError] = React.useState("");\nconst [touched, setTouched] = React.useState(false);\nconst validate = () => {\n  const error = value.length > 0 ? "" : "This is a required field";\n  setError(error);\n};\nreturn (\n  <input\n    name="name"\n    value={state.name}\n    onFocus={()=>{\n      // We don\'t set touched here,\n      // because then we will see the errors\n      // as soon as we start typing\n    }}\n    onBlur={()=>{\n      //You can set it here\n      // it will then validate on the first click away\n      setTouched(true)\n    }}\n    onChange={(e) => {\n      setState( e.target.value);\n      validate();\n    }}\n  />\n  <p>{error}</p>\n);\n')),Object(o.b)("p",null,"As you can see there is a lot of work going into the management of one components state,\nThat is why we use formik to handle this in the background, and leave us with the rest of the basic capture logic"),Object(o.b)("h3",{id:"references"},"References"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"You can look at the NoFormik.tsx in the example project on how tedious the above really gets")))}u.isMDXComponent=!0},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),u=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},p=function(e){var t=u(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(n),b=r,h=p["".concat(l,".").concat(b)]||p[b]||m[b]||o;return n?a.a.createElement(h,i({ref:t},s,{components:n})):a.a.createElement(h,i({ref:t},s))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);